{"version":3,"sources":["scripts/main.js"],"names":["body","document","querySelector","tbody","notification","type","title","text","insertAdjacentHTML","setTimeout","removeChild","capitalizeString","str","toUpperCase","slice","salaryEdited","salary","Intl","NumberFormat","format","addEventListener","ev","activeRow","target","closest","rows","forEach","row","classList","remove","add","form","preventDefault","dataFromForm","FormData","nameData","get","positionData","officeData","ageData","salaryData","length","reset","thead","columnThatWasSorted","columnThatWeSort","cellIndex","sortedRows","sort","row1","row2","value1","cells","innerHTML","value2","isNaN","includes","replace","localeCompare","append","reverse"],"mappings":"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","file":"main.1a90e99c.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\r\n// работа с ячейками\r\n\r\nconst body = document.querySelector('body');\r\nconst tbody = document.querySelector('tbody');\r\n\r\ntbody.addEventListener('click', (ev) => {\r\n  const activeRow = ev.target.closest('tr');\r\n\r\n  [...tbody.rows].forEach((row) => row.classList.remove('active'));\r\n  activeRow.classList.add('active');\r\n});\r\n\r\nbody.insertAdjacentHTML('beforeend', `\r\n  <form class=\"new-employee-form\" action=\"#\" method=\"get\">\r\n    <label>\r\n      Name:\r\n      <input\r\n        type=\"text\"\r\n        name=\"name\"\r\n        data-qa=\"name\"\r\n        required\r\n      >\r\n    </label>\r\n    <label>\r\n      Position:\r\n      <input\r\n        type=\"text\"\r\n        name=\"position\"\r\n        data-qa=\"position\"\r\n        required\r\n      >\r\n    </label>\r\n    <label>\r\n      Office:\r\n      <select\r\n        name=\"office\"\r\n        name=\"office\"\r\n        data-qa=\"office\"\r\n        required\r\n      >\r\n        <option value=\"Tokyo\">Tokyo</option>\r\n        <option value=\"Singapore\">Singapore</option>\r\n        <option value=\"London\">London</option>\r\n        <option value=\"New York\">New York</option>\r\n        <option value=\"Edinburgh\">Edinburgh</option>\r\n        <option value=\"San Francisco\">San Francisco</option>\r\n      </select>\r\n    </label>\r\n    <label>\r\n      Age:\r\n      <input\r\n        type=\"number\"\r\n        name=\"age\"\r\n        data-qa=\"age\"\r\n        required\r\n      >\r\n    </label>\r\n    <label>\r\n      Salary:\r\n      <input\r\n        type=\"number\"\r\n        name=\"salary\"\r\n        data-qa=\"salary\"\r\n        required\r\n      >\r\n    </label>\r\n    <button class=\"button\"> Save to table </button>\r\n  </form>\r\n`);\r\n\r\nfunction notification(type, title, text) {\r\n  body.insertAdjacentHTML('beforeend', `\r\n  <div\r\n    class=\"notification ${type}\"\r\n    data-qa=\"notification\"\r\n  >\r\n    <h1 class=\"title\">\r\n      ${title}\r\n    </h1>\r\n    <p>\r\n      ${text}\r\n    </p>\r\n  </div>\r\n  `);\r\n\r\n  setTimeout(() =>\r\n    body.removeChild(document.querySelector('.notification')), 2000);\r\n};\r\n\r\nfunction capitalizeString(str) {\r\n  return (str[0].toUpperCase() + str.slice(1));\r\n};\r\n\r\nfunction salaryEdited(salary) {\r\n  const numberFormatter = new Intl.NumberFormat('en-US');\r\n\r\n  return ('$' + numberFormatter.format(salary));\r\n};\r\n\r\nconst form = document.querySelector('.new-employee-form');\r\n\r\nform.addEventListener('submit', (ev) => {\r\n  ev.preventDefault();\r\n\r\n  const dataFromForm = new FormData(form);\r\n  const nameData = dataFromForm.get('name');\r\n  const positionData = dataFromForm.get('position');\r\n  const officeData = dataFromForm.get('office');\r\n  const ageData = dataFromForm.get('age');\r\n  const salaryData = dataFromForm.get('salary');\r\n\r\n  if (nameData.length < 4) {\r\n    notification('error', 'Error', 'Name must have min 4 letters');\r\n  } else if (ageData < 18) {\r\n    notification('warning', 'Warning', 'Sorry, You are too young !');\r\n  } else if (ageData > 90) {\r\n    notification('warning', 'Warning', `\r\n    Sorry, We are looking for younger specialist !\r\n    `);\r\n  } else {\r\n    tbody.insertAdjacentHTML('afterbegin', `\r\n      <tr>\r\n        <td>${capitalizeString(nameData)}</td>\r\n        <td>${capitalizeString(positionData)}</td>\r\n        <td>${officeData}</td>\r\n        <td>${ageData}</td>\r\n        <td>${salaryEdited(salaryData)}</td>\r\n      </tr>\r\n    `);\r\n\r\n    notification('success', 'Success', 'A new employee has been added !');\r\n    ev.target.reset();\r\n  }\r\n});\r\n\r\nconst thead = document.querySelector('thead');\r\nlet columnThatWasSorted = 0;\r\n\r\nthead.addEventListener('click', (ev) => {\r\n  const columnThatWeSort = ev.target.cellIndex;\r\n\r\n  const sortedRows = [...tbody.rows].sort((row1, row2) => {\r\n    let value1 = row1.cells[columnThatWeSort].innerHTML;\r\n    let value2 = row2.cells[columnThatWeSort].innerHTML;\r\n\r\n    if (value1.includes('$')) {\r\n      value1 = value1.replace(/[$,]/g, '');\r\n      value2 = value2.replace(/[$,]/g, '');\r\n    }\r\n\r\n    return isNaN(value1)\r\n      ? value1.localeCompare(value2)\r\n      : (value1 - value2);\r\n  });\r\n\r\n  if (columnThatWeSort !== columnThatWasSorted) {\r\n    tbody.append(...sortedRows);\r\n    columnThatWasSorted = columnThatWeSort;\r\n  } else {\r\n    tbody.append(...sortedRows.reverse());\r\n    columnThatWasSorted = 10;\r\n  }\r\n});\r\n"]}